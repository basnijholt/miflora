[tox]
envlist = py34, py35, py36, pylint, lint, integration_tests
skip_missing_interpreters = True

[testenv]
# only run unit tests as they do not need additional hardware
deps=pytest
commands = pytest test/unit_tests

[testenv:integration_tests]
#there tests are run separately as they rquire read hardware
#need the command line argument --mac=<some mac> to work
commands = pytest {posargs}

[flake8]
max-complexity = 10
install-hook=git
max-line-length=120


[testenv:lint]
base=python3
deps=flake8
ignore_errors=True
commands=flake8

[testenv:pylint]
basepython = python3
skip_install = true
deps =
    pyflakes
    pylint
commands = pylint -j4 miflora test setup.py demo.py
